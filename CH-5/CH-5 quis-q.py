# ==========================================================
# اختبار الفصل الخامس: معالجة الاستثناءات في بايثون
# ==========================================================
# قُم بكتابة الكود المطلوب في الأماكن المخصصة تحت كل سؤال
# لا تُعدّل على التعليقات أو هيكل الملف
# ==========================================================


# ----------------------------------------------------------
# Q1: البنية الأساسية لمعالجة الاستثناءات
# ----------------------------------------------------------
# اكتب كود يحاول قسمة عددين يدخلهما المستخدم
# واستخدم try-except للتعامل مع القسمة على الصفر

print("=== Q1 ===")



print()

# ----------------------------------------------------------
# Q2: معالجة أنواع متعددة من الاستثناءات
# ----------------------------------------------------------
# اكتب دالة تطلب من المستخدم إدخال رقم، وتحاول تحويل هذا الإدخال إلى عدد صحيح باستخدام الدالة int().
# يجب عليك معالجة الاستثناءات التالية:
# ValueError إذا كان الإدخال غير صالح للتحويل إلى عدد صحيح.
# TypeError إذا تم تمرير نوع غير مناسب للتحويل.

print("=== Q2 ===")


print()


# ----------------------------------------------------------
# Q3: استخدام كتلة finally
# ----------------------------------------------------------
# اكتب كود يفتح ملفاً للقراءة مع استخدام finally
# للتأكد من إغلاق الملف بغض النظر عن النتيجة

print("=== Q3 ===")





# ----------------------------------------------------------
# Q4: التقاط استثناء محدد بمعلومياته
# ----------------------------------------------------------
# اكتب كود يلتقط استثناء IndexError ويعرض رسالة الخطأ الكاملة

print("=== Q4 ===")



print()


# ----------------------------------------------------------
# Q5: معالجة استثناءات القوائم
# ----------------------------------------------------------
# للسلسلة: numbers = [10, 20, 30, 40, 50]
# اكتب كود يطلب من المستخدم إدخال index ويعرض القيمة
# وعالج حالة الفهرس خارج النطاق

print("=== Q5 ===")



print()


# ----------------------------------------------------------
# Q6: استخدام multiple except blocks
# ----------------------------------------------------------
# اكتب كود يحول مدخلين إلى أعداد ويعمل عليهما عملية حسابية
# وعالج كل نوع خطأ في كتلة except منفصلة

print("=== Q6 ===")



print()


# ----------------------------------------------------------
# Q7: إنشاء دالة آمنة للإدخال
# ----------------------------------------------------------
# اكتب دالة get_safe_input() تطلب من المستخدم إدخال عدد عشري
# وتكرر الطلب حتى يدخل المستخدم قيمة صحيحة

print("=== Q7 ===")



print()


# ----------------------------------------------------------
# Q8: معالجة استثناءات القواميس
# ----------------------------------------------------------
# اكتب كود يطلب مفتاحاً من المستخدم ويعرض قيمته من قاموس
# وعالج حالة المفتاح غير الموجود

print("=== Q8 ===")



print()


# ----------------------------------------------------------
# Q9: استخدام else مع try-except
# ----------------------------------------------------------
# اكتب كود يستخدم كتلة else لتنفيذ تعليمات عند نجاح try

print("=== Q9 ===")



print()


# ----------------------------------------------------------
# Q10: إنشاء برنامج آمن للبحث في قائمة
# ----------------------------------------------------------
# اكتب برنامجاً يبحث عن عنصر في قائمة باستخدام try-except
# بدلاً من التحقق الشرطي العادي

print("=== Q10 ===")



print()

# ----------------------------------------------------------
# Q12: برنامج متكامل لإدارة الأخطاء
# ----------------------------------------------------------
# اكتب برنامجاً يحسب متوسط درجات الطلاب مع معالجة جميع الأخطاء المحتملة

print("=== Q11 ===")


def calculate_average_grades():
    try:
        num_students = int(input("Enter number of students: "))
        if num_students <= 0:
            raise ValueError("Number of students must be positive")

        total = 0
        for i in range(num_students):
            try:
                grade = float(input(f"Enter grade for student {i+1}: "))
                if grade < 0 or grade > 100:
                    raise ValueError("Grade must be between 0 and 100")
                total += grade
            except ValueError as e:
                print(f"Error in grade input: {e}")
                return

        average = total / num_students
        print(f"Average grades: {average:.2f}")

    except ValueError as e:
        print(f"Input error: {e}")
    except ZeroDivisionError:
        print("Error: Cannot calculate average for zero students")
    except Exception as e:
        print(f"Unexpected error: {e}")


calculate_average_grades()
print()


# ----------------------------------------------------------
# Q13: استخدام التعليمة raise
# ----------------------------------------------------------
# اكتب دالة تتحقق من عمر المستخدم وتطلق استثناء إذا كان العمر غير منطقي

print("=== Q12 ===")


def validate_age(age):
    if age < 0:
        raise ValueError("Age cannot be negative")
    elif age > 110:
        raise ValueError("Age is not logical")
    else:
        print(f"Age {age} is acceptable")


try:
    validate_age(25)
    validate_age(-5)  # This will cause an exception
except ValueError as e:
    print(f"Validation error: {e}")
print()




# ==========================================================
# نهاية اختبار الفصل الخامس
# ==========================================================
